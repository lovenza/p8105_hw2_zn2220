p8105_hw2_zn2220
================
Ziang Niu
2025-09-24

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(lubridate)
library(readxl)
library(haven)
```

# Problem 1

## 1.1

### First, clean the data in pols-month.csv. Use separate() to break up the variable mon into integer variables year, month, and day; replace month number with month name; create a president variable taking values gop and dem, and remove prez_dem and prez_gop; and remove the day variable.

``` r
pols_df <- read_csv("data/pols-month.csv", na = c("NA", ".", "")) %>% 
  janitor::clean_names() %>% 
  separate(
    mon, into = c("year", "month", "day"), sep = "-"
  ) %>% 
  mutate(
    year = as.integer(year),
    month = factor(
      month.name[as.integer(month)],
      levels = month.name,
      ordered = TRUE
    )
  ) %>% 
  mutate(
    president = case_when(
      prez_dem == 1 ~ "dem",
      prez_gop == 1 ~ "gop",
      TRUE ~ NA_character_
    )
  ) %>% 
  select(-prez_dem, -prez_gop, -day) %>% 
  select(year, month, everything())
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## 1.2

### Second, clean the data in snp.csv using a similar process to the above. For consistency across datasets, arrange according to year and month, and organize so that year and month are the leading columns.

``` r
snp_df = 
  read_csv("data/snp.csv", na = c("NA", ".", "")) %>% 
  janitor::clean_names() %>% 
  separate(
    date, into = c("month", "day", "year"), sep = "/"
  ) %>% 
  mutate(
    year = if_else(
      as.integer(year) <= 15,
      as.integer(year) + 2000,
      as.integer(year) + 1900
    ),
    month = factor(
      month.name[as.integer(month)], 
      levels = month.name, ordered = TRUE
    )
  ) %>% 
  select(-day) %>% 
  arrange(year, month) %>% 
  select(year, month, everything())
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## 1.3

### Third, tidy the unemployment data so that it can be merged with the previous datasets. This process will involve switching from “wide” to “long” format; ensuring that key variables have the same name; and ensuring that key variables take the same values.

``` r
une_df = 
  read_csv("data/unemployment.csv", na = c("NA", ".", "")) %>%
  janitor::clean_names() %>%
  pivot_longer(
    cols = jan:dec,
    names_to = "month",
    values_to = "unemployment",
  ) %>% 
  mutate(
    month = factor(
      month,
      levels = tolower(month.abb),
      labels = month.name,
      ordered = TRUE 
    )
  ) %>% 
  select(year, month, everything())
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## 1.4

### Join the datasets by merging snp into pols, and merging unemployment into the result.

``` r
overall_df <- pols_df %>% 
  full_join(snp_df, by = c("year", "month")) %>% 
  full_join(une_df, by = c("year", "month")) %>% 
  janitor::clean_names()
```

## 1.5

### Write a short paragraph about these datasets. Explain briefly what each dataset contained, and describe the resulting dataset (e.g. give the dimension, range of years, and names of key variables).

The pols_df contains:

``` r
summary(pols_df)
```

    ##       year           month        gov_gop         sen_gop        rep_gop     
    ##  Min.   :1947   January : 69   Min.   :12.00   Min.   :32.0   Min.   :141.0  
    ##  1st Qu.:1964   February: 69   1st Qu.:18.00   1st Qu.:42.0   1st Qu.:176.0  
    ##  Median :1981   March   : 69   Median :22.00   Median :46.0   Median :195.0  
    ##  Mean   :1981   April   : 69   Mean   :22.48   Mean   :46.1   Mean   :194.9  
    ##  3rd Qu.:1998   May     : 69   3rd Qu.:28.00   3rd Qu.:51.0   3rd Qu.:222.0  
    ##  Max.   :2015   June    : 69   Max.   :34.00   Max.   :56.0   Max.   :253.0  
    ##                 (Other) :408                                                 
    ##     gov_dem        sen_dem         rep_dem     president        
    ##  Min.   :17.0   Min.   :44.00   Min.   :188   Length:822        
    ##  1st Qu.:22.0   1st Qu.:48.00   1st Qu.:211   Class :character  
    ##  Median :28.0   Median :53.00   Median :250   Mode  :character  
    ##  Mean   :27.2   Mean   :54.41   Mean   :245                     
    ##  3rd Qu.:32.0   3rd Qu.:58.00   3rd Qu.:268                     
    ##  Max.   :41.0   Max.   :71.00   Max.   :301                     
    ## 

The snp_df contains:

``` r
summary(snp_df)
```

    ##       year           month         close        
    ##  Min.   :1950   January : 66   Min.   :  17.05  
    ##  1st Qu.:1966   February: 66   1st Qu.:  83.73  
    ##  Median :1982   March   : 66   Median : 138.53  
    ##  Mean   :1982   April   : 66   Mean   : 474.89  
    ##  3rd Qu.:1999   May     : 66   3rd Qu.: 941.80  
    ##  Max.   :2015   June    : 66   Max.   :2107.39  
    ##                 (Other) :391

The une_df contains:

``` r
summary(une_df)
```

    ##       year           month      unemployment  
    ##  Min.   :1948   January : 68   Min.   : 2.50  
    ##  1st Qu.:1965   February: 68   1st Qu.: 4.70  
    ##  Median :1982   March   : 68   Median : 5.60  
    ##  Mean   :1982   April   : 68   Mean   : 5.83  
    ##  3rd Qu.:1998   May     : 68   3rd Qu.: 6.90  
    ##  Max.   :2015   June    : 68   Max.   :10.80  
    ##                 (Other) :408   NA's   :6

The combined dataset `overall_df` can be summarized with the following R
functions:

- The dimension is 828 x 11.  
- The range of year is from 1947 to 2015.  
- The key variables are: year, month, gov_gop, sen_gop, rep_gop,
  gov_dem, sen_dem, rep_dem, president, close, unemployment.  
- A descriptive summary of each variable is:

``` r
summary(overall_df)
```

    ##       year           month        gov_gop         sen_gop        rep_gop     
    ##  Min.   :1947   January : 69   Min.   :12.00   Min.   :32.0   Min.   :141.0  
    ##  1st Qu.:1964   February: 69   1st Qu.:18.00   1st Qu.:42.0   1st Qu.:176.0  
    ##  Median :1981   March   : 69   Median :22.00   Median :46.0   Median :195.0  
    ##  Mean   :1981   April   : 69   Mean   :22.48   Mean   :46.1   Mean   :194.9  
    ##  3rd Qu.:1998   May     : 69   3rd Qu.:28.00   3rd Qu.:51.0   3rd Qu.:222.0  
    ##  Max.   :2015   June    : 69   Max.   :34.00   Max.   :56.0   Max.   :253.0  
    ##                 (Other) :414   NA's   :6       NA's   :6      NA's   :6      
    ##     gov_dem        sen_dem         rep_dem     president        
    ##  Min.   :17.0   Min.   :44.00   Min.   :188   Length:828        
    ##  1st Qu.:22.0   1st Qu.:48.00   1st Qu.:211   Class :character  
    ##  Median :28.0   Median :53.00   Median :250   Mode  :character  
    ##  Mean   :27.2   Mean   :54.41   Mean   :245                     
    ##  3rd Qu.:32.0   3rd Qu.:58.00   3rd Qu.:268                     
    ##  Max.   :41.0   Max.   :71.00   Max.   :301                     
    ##  NA's   :6      NA's   :6       NA's   :6                       
    ##      close          unemployment  
    ##  Min.   :  17.05   Min.   : 2.50  
    ##  1st Qu.:  83.73   1st Qu.: 4.70  
    ##  Median : 138.53   Median : 5.60  
    ##  Mean   : 474.89   Mean   : 5.83  
    ##  3rd Qu.: 941.80   3rd Qu.: 6.90  
    ##  Max.   :2107.39   Max.   :10.80  
    ##  NA's   :41        NA's   :18

### Note

Create the data key.

``` r
overall_df <- overall_df %>%
  dplyr::mutate(date = lubridate::make_date(year, month))
```

# Problem 2

## 2.1

### Read and clean the Mr. Trash Wheel sheet:specify the sheet in the Excel file and to omit non-data entries (rows with notes / figures; columns containing notes) using arguments in read_excel. Use reasonable variable names. Omit rows that do not include dumpster-specific data. Round the number of sports balls to the nearest integer and converts the result to an integer variable (using as.integer)

``` r
mtw_df <- read_excel(
  "data/202409 Trash Wheel Collection Data.xlsx",
  sheet = "Mr. Trash Wheel",
  skip = 1
) %>%
  select(-...15, -...16) %>%
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    sports_balls = as.integer(round(sports_balls)),
    year = as.integer(year),
    wheel = "Mr. Trash Wheel"
  )
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

## 2.2

### Use a similar process to import, clean, and organize the data for Professor Trash Wheel and Gwynnda, and combine this with the Mr. Trash Wheel dataset to produce a single tidy dataset. To keep track of which Trash Wheel is which, you may need to add an additional variable to both datasets before combining.

``` r
ptw_df <- read_excel(
  "data/202409 Trash Wheel Collection Data.xlsx",
  sheet = "Professor Trash Wheel",
  skip = 1
) %>%
  select(-starts_with("...")) %>%
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    year = as.integer(year),
    wheel = "Professor Trash Wheel"
  )

gtw_df <- read_excel(
  "data/202409 Trash Wheel Collection Data.xlsx",
  sheet = "Gwynnda Trash Wheel",
  skip = 1
) %>%
  select(-starts_with("...")) %>%
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    year = as.integer(year),
    wheel = "Gwynnda Trash Wheel"
  )
```

Combine.

``` r
wheelall_df <- bind_rows(mtw_df, ptw_df, gtw_df) %>%
  filter(!is.na(date)) %>%
  arrange(date, wheel)
```

## 2.3

### Write a paragraph about these data; you are encouraged to use inline R. Be sure to note the number of observations in the resulting dataset, and give examples of key variables. For available data, what was the total weight of trash collected by Professor Trash Wheel? What was the total number of cigarette butts collected by Gwynnda in June of 2022?

The combined dataset of Trash Wheel collections contains 1032
observations, with key variables including:

``` r
names(wheelall_df)
```

    ##  [1] "dumpster"           "month"              "year"              
    ##  [4] "date"               "weight_tons"        "volume_cubic_yards"
    ##  [7] "plastic_bottles"    "polystyrene"        "cigarette_butts"   
    ## [10] "glass_bottles"      "plastic_bags"       "wrappers"          
    ## [13] "sports_balls"       "homes_powered"      "wheel"

Professor Trash Wheel collected a total of 246.74 tons of trash. In
addition, Gwynnda Trash Wheel collected 1.812^{4} cigarette butts in
June of 2022.

# Problem 3

## 3.1

### Create a single, well-organized dataset with all the information contained in these data files. To that end: import, clean, tidy, and otherwise wrangle each of these datasets; check for completeness and correctness across datasets (e.g. by viewing individual datasets and monitoring warning messages); merge to create a single, final dataset; and organize this so that variables and observations are in meaningful orders.

Clean and see.

``` r
zc_df <- read_csv("data/Zip Codes.csv", na = c("NA", ".", "")) %>%
  janitor::clean_names()
```

    ## Rows: 322 Columns: 7
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (4): County, County Code, File Date, Neighborhood
    ## dbl (3): State FIPS, County FIPS, ZipCode
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
nyc_df <- read_csv("data/Zip_zori_uc_sfrcondomfr_sm_month_NYC.csv", na = c("NA", ".", "")) %>%
  janitor::clean_names()
```

    ## Rows: 149 Columns: 125
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr   (6): RegionType, StateName, State, City, Metro, CountyName
    ## dbl (119): RegionID, SizeRank, RegionName, 2015-01-31, 2015-02-28, 2015-03-3...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
glimpse(zc_df)
```

    ## Rows: 322
    ## Columns: 7
    ## $ county       <chr> "Bronx", "Bronx", "Bronx", "Bronx", "Bronx", "Bronx", "Br…
    ## $ state_fips   <dbl> 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 3…
    ## $ county_code  <chr> "005", "005", "005", "005", "005", "005", "005", "005", "…
    ## $ county_fips  <dbl> 36005, 36005, 36005, 36005, 36005, 36005, 36005, 36005, 3…
    ## $ zip_code     <dbl> 10451, 10452, 10453, 10454, 10455, 10456, 10457, 10458, 1…
    ## $ file_date    <chr> "7/25/07", "7/25/07", "7/25/07", "7/25/07", "7/25/07", "7…
    ## $ neighborhood <chr> "High Bridge and Morrisania", "High Bridge and Morrisania…

``` r
glimpse(nyc_df)
```

    ## Rows: 149
    ## Columns: 125
    ## $ region_id   <dbl> 62080, 62093, 62019, 62046, 61807, 62085, 62037, 62018, 61…
    ## $ size_rank   <dbl> 4, 7, 9, 16, 17, 18, 19, 20, 29, 32, 36, 39, 40, 43, 47, 4…
    ## $ region_name <dbl> 11368, 11385, 11208, 11236, 10467, 11373, 11226, 11207, 10…
    ## $ region_type <chr> "zip", "zip", "zip", "zip", "zip", "zip", "zip", "zip", "z…
    ## $ state_name  <chr> "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY"…
    ## $ state       <chr> "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY"…
    ## $ city        <chr> "New York", "New York", "New York", "New York", "New York"…
    ## $ metro       <chr> "New York-Newark-Jersey City, NY-NJ-PA", "New York-Newark-…
    ## $ county_name <chr> "Queens County", "Queens County", "Kings County", "Kings C…
    ## $ x2015_01_31 <dbl> NA, NA, NA, NA, NA, NA, 1919.726, 1943.311, 3054.576, NA, …
    ## $ x2015_02_28 <dbl> NA, NA, NA, NA, NA, NA, 1947.088, 1851.295, 3053.302, NA, …
    ## $ x2015_03_31 <dbl> NA, NA, NA, NA, NA, NA, 2038.567, 1851.512, 3049.818, NA, …
    ## $ x2015_04_30 <dbl> NA, NA, NA, NA, NA, NA, 2041.355, 1876.733, 3073.585, NA, …
    ## $ x2015_05_31 <dbl> NA, NA, NA, NA, NA, NA, 2053.751, 1972.097, 3093.156, NA, …
    ## $ x2015_06_30 <dbl> NA, NA, NA, NA, NA, NA, 2033.709, 2025.955, 3120.443, NA, …
    ## $ x2015_07_31 <dbl> NA, NA, NA, NA, NA, NA, 2056.747, 2034.935, 3130.740, NA, …
    ## $ x2015_08_31 <dbl> NA, NA, NA, NA, NA, NA, 2071.559, 2016.905, 3128.406, NA, …
    ## $ x2015_09_30 <dbl> NA, NA, NA, NA, NA, NA, 2092.795, 2046.119, 3125.705, NA, …
    ## $ x2015_10_31 <dbl> NA, NA, NA, NA, NA, NA, 2093.826, 2052.770, 3126.853, NA, …
    ## $ x2015_11_30 <dbl> NA, NA, NA, NA, NA, NA, 2095.349, 2108.550, 3129.706, NA, …
    ## $ x2015_12_31 <dbl> NA, NA, NA, NA, NA, NA, 2088.164, 2062.484, 3125.624, NA, …
    ## $ x2016_01_31 <dbl> NA, NA, NA, NA, NA, NA, 2089.653, 2068.113, 3115.547, NA, …
    ## $ x2016_02_29 <dbl> NA, NA, NA, NA, NA, NA, 2082.460, 2075.443, 3111.635, NA, …
    ## $ x2016_03_31 <dbl> NA, NA, NA, NA, NA, NA, 2131.828, 2166.531, 3126.976, NA, …
    ## $ x2016_04_30 <dbl> NA, NA, NA, NA, NA, NA, 2151.524, 2198.191, 3134.421, NA, …
    ## $ x2016_05_31 <dbl> NA, 2266.140, NA, NA, 1349.679, NA, 2171.467, 2163.246, 31…
    ## $ x2016_06_30 <dbl> NA, 2292.023, NA, NA, 1327.656, NA, 2195.605, 2134.050, 31…
    ## $ x2016_07_31 <dbl> NA, 2320.788, NA, NA, 1351.738, NA, 2235.378, 2125.281, 31…
    ## $ x2016_08_31 <dbl> NA, 2343.339, NA, NA, 1313.098, NA, 2240.782, 2149.885, 32…
    ## $ x2016_09_30 <dbl> NA, 2337.120, NA, NA, 1331.150, NA, 2202.912, 2132.201, 32…
    ## $ x2016_10_31 <dbl> NA, 2345.339, NA, NA, 1317.193, NA, 2175.157, 2131.459, 31…
    ## $ x2016_11_30 <dbl> NA, 2320.083, NA, NA, 1307.569, NA, 2203.503, 2144.048, 31…
    ## $ x2016_12_31 <dbl> NA, 2326.450, NA, NA, 1294.087, NA, 2220.357, 2150.612, 30…
    ## $ x2017_01_31 <dbl> NA, 2310.855, NA, NA, 1354.713, NA, 2230.477, 2149.877, 30…
    ## $ x2017_02_28 <dbl> NA, 2313.101, NA, NA, 1381.230, NA, 2222.774, 2119.797, 30…
    ## $ x2017_03_31 <dbl> NA, 2316.134, NA, NA, 1443.584, NA, 2227.372, 2114.796, 30…
    ## $ x2017_04_30 <dbl> NA, 2309.757, NA, NA, 1427.754, NA, 2217.893, 2124.847, 31…
    ## $ x2017_05_31 <dbl> NA, 2336.220, NA, NA, NA, NA, 2224.578, 2113.990, 3146.901…
    ## $ x2017_06_30 <dbl> NA, 2327.477, NA, NA, 1419.295, NA, 2246.103, 2110.918, 31…
    ## $ x2017_07_31 <dbl> NA, 2349.503, NA, NA, 1427.326, NA, 2268.897, 2113.950, 32…
    ## $ x2017_08_31 <dbl> NA, 2354.110, NA, NA, 1391.902, NA, 2266.585, 2154.685, 32…
    ## $ x2017_09_30 <dbl> NA, 2393.023, NA, NA, 1388.167, NA, 2253.781, 2190.012, 32…
    ## $ x2017_10_31 <dbl> NA, 2363.952, NA, NA, 1402.915, NA, 2233.249, 2209.270, 31…
    ## $ x2017_11_30 <dbl> NA, 2360.901, NA, NA, 1443.141, NA, 2214.707, 2197.699, 31…
    ## $ x2017_12_31 <dbl> NA, 2336.269, NA, NA, 1448.317, NA, 2203.283, 2195.972, 30…
    ## $ x2018_01_31 <dbl> NA, 2331.220, NA, NA, 1415.071, NA, 2212.000, 2173.922, 30…
    ## $ x2018_02_28 <dbl> NA, 2314.654, NA, NA, 1447.512, NA, 2242.629, 2161.329, 30…
    ## $ x2018_03_31 <dbl> NA, 2317.821, NA, NA, 1475.749, NA, 2265.593, 2164.720, 30…
    ## $ x2018_04_30 <dbl> NA, 2337.118, NA, NA, 1550.592, NA, 2292.588, 2225.315, 31…
    ## $ x2018_05_31 <dbl> NA, 2352.811, NA, NA, 1557.876, NA, 2295.173, 2250.959, 31…
    ## $ x2018_06_30 <dbl> NA, 2362.330, NA, NA, 1554.092, NA, 2304.912, 2259.032, 32…
    ## $ x2018_07_31 <dbl> NA, 2367.660, NA, NA, 1551.874, NA, 2320.557, 2230.589, 32…
    ## $ x2018_08_31 <dbl> NA, 2376.613, NA, NA, 1552.840, NA, 2349.465, 2259.636, 32…
    ## $ x2018_09_30 <dbl> NA, 2380.886, NA, NA, 1580.368, NA, 2369.397, 2260.747, 32…
    ## $ x2018_10_31 <dbl> NA, 2402.277, NA, NA, 1576.065, NA, 2351.768, 2241.267, 32…
    ## $ x2018_11_30 <dbl> NA, 2393.917, NA, NA, 1554.715, NA, 2334.290, 2241.702, 32…
    ## $ x2018_12_31 <dbl> NA, 2397.149, NA, NA, 1593.641, NA, 2306.881, 2241.726, 32…
    ## $ x2019_01_31 <dbl> NA, 2374.795, NA, NA, 1588.411, NA, 2322.166, 2267.492, 32…
    ## $ x2019_02_28 <dbl> NA, 2397.457, NA, NA, 1600.744, NA, 2310.874, 2262.747, 32…
    ## $ x2019_03_31 <dbl> NA, 2381.838, NA, NA, 1578.046, NA, 2337.374, 2300.330, 31…
    ## $ x2019_04_30 <dbl> NA, 2398.852, NA, NA, 1572.738, NA, 2320.309, 2282.050, 32…
    ## $ x2019_05_31 <dbl> NA, 2381.123, NA, NA, 1587.081, NA, 2348.144, 2312.998, 32…
    ## $ x2019_06_30 <dbl> NA, 2440.723, NA, NA, 1568.751, NA, 2347.740, 2308.482, 33…
    ## $ x2019_07_31 <dbl> NA, 2471.034, NA, NA, 1613.196, NA, 2377.157, 2344.878, 33…
    ## $ x2019_08_31 <dbl> NA, 2495.005, NA, NA, 1620.662, NA, 2401.689, 2341.534, 33…
    ## $ x2019_09_30 <dbl> NA, 2476.095, NA, NA, 1685.971, NA, 2419.742, 2348.960, 33…
    ## $ x2019_10_31 <dbl> NA, 2464.924, NA, NA, 1699.779, NA, 2413.602, 2356.870, 33…
    ## $ x2019_11_30 <dbl> NA, 2488.450, NA, NA, 1695.050, NA, 2378.537, 2385.016, 33…
    ## $ x2019_12_31 <dbl> NA, 2498.628, NA, NA, 1669.128, NA, 2348.024, 2409.248, 32…
    ## $ x2020_01_31 <dbl> NA, 2509.859, NA, NA, 1649.561, NA, 2357.056, 2418.346, 32…
    ## $ x2020_02_29 <dbl> NA, 2515.646, NA, NA, 1665.102, NA, 2354.012, 2406.290, 33…
    ## $ x2020_03_31 <dbl> NA, 2501.732, NA, NA, 1668.471, NA, 2390.353, 2384.940, 33…
    ## $ x2020_04_30 <dbl> NA, 2475.083, NA, NA, 1653.317, NA, 2384.131, 2397.553, 32…
    ## $ x2020_05_31 <dbl> NA, 2475.563, NA, NA, 1612.794, NA, 2394.843, 2400.946, 32…
    ## $ x2020_06_30 <dbl> NA, 2469.365, NA, NA, 1598.750, NA, 2372.863, 2390.648, 31…
    ## $ x2020_07_31 <dbl> NA, 2475.826, NA, NA, 1655.226, NA, 2375.547, 2357.104, 31…
    ## $ x2020_08_31 <dbl> NA, 2427.843, NA, NA, 1699.814, NA, 2352.791, 2326.858, 30…
    ## $ x2020_09_30 <dbl> NA, 2401.526, NA, NA, 1745.707, NA, 2321.016, 2270.901, 29…
    ## $ x2020_10_31 <dbl> NA, 2368.533, NA, NA, 1724.810, NA, 2286.740, 2224.135, 28…
    ## $ x2020_11_30 <dbl> NA, 2337.224, NA, NA, 1774.450, NA, 2268.131, 2167.380, 28…
    ## $ x2020_12_31 <dbl> NA, 2305.878, NA, NA, 1725.417, NA, 2223.454, 2164.536, 27…
    ## $ x2021_01_31 <dbl> NA, 2292.884, NA, NA, 1744.514, NA, 2180.768, 2142.852, 27…
    ## $ x2021_02_28 <dbl> NA, 2277.712, NA, NA, 1701.264, NA, 2182.021, 2121.733, 28…
    ## $ x2021_03_31 <dbl> NA, 2282.339, NA, NA, 1737.235, NA, 2209.309, 2102.816, 28…
    ## $ x2021_04_30 <dbl> NA, 2278.929, NA, NA, 1690.341, 1872.391, 2254.320, 2111.9…
    ## $ x2021_05_31 <dbl> NA, 2322.021, NA, NA, 1715.512, 1875.980, 2278.554, 2191.8…
    ## $ x2021_06_30 <dbl> NA, 2368.377, NA, NA, 1725.934, 1908.656, 2310.224, 2261.8…
    ## $ x2021_07_31 <dbl> NA, 2420.586, NA, NA, 1751.695, 1930.109, 2349.893, 2316.8…
    ## $ x2021_08_31 <dbl> NA, 2449.848, NA, NA, 1742.938, 1949.615, 2367.497, 2336.2…
    ## $ x2021_09_30 <dbl> NA, 2482.230, NA, NA, 1772.303, 1966.494, 2398.880, 2364.1…
    ## $ x2021_10_31 <dbl> NA, 2518.714, NA, NA, 1807.374, 1910.506, 2397.910, 2412.8…
    ## $ x2021_11_30 <dbl> NA, 2556.784, NA, NA, 1812.226, 1934.053, 2409.960, 2413.5…
    ## $ x2021_12_31 <dbl> NA, 2580.724, NA, NA, 1747.475, 1923.586, 2411.932, 2448.9…
    ## $ x2022_01_31 <dbl> NA, 2592.727, NA, NA, 1728.976, 1927.948, 2437.651, 2452.6…
    ## $ x2022_02_28 <dbl> NA, 2591.473, NA, NA, 1785.026, 1969.994, 2473.804, 2473.5…
    ## $ x2022_03_31 <dbl> NA, 2607.010, 2432.634, NA, 1831.988, 2023.199, 2515.255, …
    ## $ x2022_04_30 <dbl> NA, 2657.466, 2468.666, NA, 1886.640, 2100.825, 2547.030, …
    ## $ x2022_05_31 <dbl> NA, 2727.357, 2553.099, 2328.869, 1881.483, 2107.368, 2591…
    ## $ x2022_06_30 <dbl> NA, 2830.789, 2571.974, 2376.032, 1904.170, 2138.288, 2641…
    ## $ x2022_07_31 <dbl> NA, 2893.427, 2541.777, 2347.321, 1937.096, 2166.511, 2678…
    ## $ x2022_08_31 <dbl> NA, 2951.086, 2549.192, 2400.155, 1944.353, 2151.894, 2685…
    ## $ x2022_09_30 <dbl> NA, 2957.775, 2533.571, 2397.660, 1931.878, 2144.004, 2685…
    ## $ x2022_10_31 <dbl> NA, 2966.494, 2596.307, 2524.344, 1893.956, 2141.909, 2692…
    ## $ x2022_11_30 <dbl> NA, 2937.695, 2624.750, 2502.490, 1891.447, 2163.435, 2686…
    ## $ x2022_12_31 <dbl> NA, 2898.732, 2660.759, 2582.495, 1899.311, 2181.641, 2657…
    ## $ x2023_01_31 <dbl> NA, 2851.205, 2683.873, 2432.282, 1929.648, 2213.842, 2651…
    ## $ x2023_02_28 <dbl> NA, 2847.664, 2685.560, 2429.336, 1945.849, 2226.211, 2646…
    ## $ x2023_03_31 <dbl> NA, 2865.429, 2657.591, 2391.820, 1958.650, 2214.526, 2676…
    ## $ x2023_04_30 <dbl> NA, 2908.589, 2672.800, 2451.315, 1909.791, 2217.911, 2681…
    ## $ x2023_05_31 <dbl> NA, 2950.697, 2699.051, 2501.957, 1963.970, 2218.745, 2706…
    ## $ x2023_06_30 <dbl> NA, 2986.174, 2825.592, 2598.722, 2049.137, 2253.525, 2728…
    ## $ x2023_07_31 <dbl> NA, 3004.259, 2817.253, 2642.102, 2084.984, 2261.120, 2748…
    ## $ x2023_08_31 <dbl> NA, 3021.107, 2797.145, 2672.396, 2100.269, 2295.725, 2757…
    ## $ x2023_09_30 <dbl> NA, 3039.225, 2773.578, 2715.256, 2182.744, 2275.544, 2743…
    ## $ x2023_10_31 <dbl> NA, 3042.726, 2815.385, 2700.885, 2238.053, 2302.135, 2722…
    ## $ x2023_11_30 <dbl> NA, 3022.294, 2934.593, 2743.458, 2317.342, 2293.275, 2713…
    ## $ x2023_12_31 <dbl> NA, 2985.509, 2977.254, 2753.950, 2243.914, 2290.069, 2716…
    ## $ x2024_01_31 <dbl> NA, 2976.598, 3015.684, 2848.811, 2269.451, 2283.986, 2745…
    ## $ x2024_02_29 <dbl> NA, 2971.280, 2987.130, 2899.215, 2233.032, 2273.511, 2741…
    ## $ x2024_03_31 <dbl> NA, 3022.816, 2963.105, 2977.176, 2244.841, 2281.456, 2737…
    ## $ x2024_04_30 <dbl> NA, 3032.851, 2895.445, 2935.365, 2303.026, 2302.458, 2726…
    ## $ x2024_05_31 <dbl> NA, 3102.032, 2817.406, 2959.498, 2282.180, 2377.143, 2750…
    ## $ x2024_06_30 <dbl> NA, 3132.088, 2858.719, 2847.246, 2309.057, 2439.551, 2766…
    ## $ x2024_07_31 <dbl> 2322.418, 3203.117, 2816.037, 2862.954, 2294.031, 2491.626…
    ## $ x2024_08_31 <dbl> 2282.500, 3199.751, 2895.667, 2976.389, 2271.611, 2476.333…

Transformation

``` r
length(unique(zc_df$zip_code))
```

    ## [1] 320

``` r
length(unique(nyc_df$region_name))
```

    ## [1] 149

``` r
zc_df <- zc_df %>%
  mutate(zip_code = as.character(zip_code))

nyc_df <- nyc_df %>%
  rename(zip_code = region_name) %>%
  mutate(zip_code = as.character(zip_code))

common_zips <- intersect(zc_df$zip_code, nyc_df$zip_code)
length(common_zips)
```

    ## [1] 149

``` r
setdiff(nyc_df$zip_code, zc_df$zip_code)
```

    ## character(0)

Combination.

``` r
tidy_df <- nyc_df %>%
  left_join(zc_df, by = "zip_code")

tidy_df <- tidy_df %>%
  relocate(zip_code, city, county, state, .before = 1)

glimpse(tidy_df)
```

    ## Rows: 151
    ## Columns: 131
    ## $ zip_code     <chr> "11368", "11385", "11208", "11236", "10467", "11373", "11…
    ## $ city         <chr> "New York", "New York", "New York", "New York", "New York…
    ## $ county       <chr> "Queens", "Queens", "Kings", "Kings", "Bronx", "Queens", …
    ## $ state        <chr> "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY…
    ## $ region_id    <dbl> 62080, 62093, 62019, 62046, 61807, 62085, 62037, 62018, 6…
    ## $ size_rank    <dbl> 4, 7, 9, 16, 17, 18, 19, 20, 29, 32, 36, 39, 40, 43, 47, …
    ## $ region_type  <chr> "zip", "zip", "zip", "zip", "zip", "zip", "zip", "zip", "…
    ## $ state_name   <chr> "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY", "NY…
    ## $ metro        <chr> "New York-Newark-Jersey City, NY-NJ-PA", "New York-Newark…
    ## $ county_name  <chr> "Queens County", "Queens County", "Kings County", "Kings …
    ## $ x2015_01_31  <dbl> NA, NA, NA, NA, NA, NA, 1919.726, 1943.311, 3054.576, NA,…
    ## $ x2015_02_28  <dbl> NA, NA, NA, NA, NA, NA, 1947.088, 1851.295, 3053.302, NA,…
    ## $ x2015_03_31  <dbl> NA, NA, NA, NA, NA, NA, 2038.567, 1851.512, 3049.818, NA,…
    ## $ x2015_04_30  <dbl> NA, NA, NA, NA, NA, NA, 2041.355, 1876.733, 3073.585, NA,…
    ## $ x2015_05_31  <dbl> NA, NA, NA, NA, NA, NA, 2053.751, 1972.097, 3093.156, NA,…
    ## $ x2015_06_30  <dbl> NA, NA, NA, NA, NA, NA, 2033.709, 2025.955, 3120.443, NA,…
    ## $ x2015_07_31  <dbl> NA, NA, NA, NA, NA, NA, 2056.747, 2034.935, 3130.740, NA,…
    ## $ x2015_08_31  <dbl> NA, NA, NA, NA, NA, NA, 2071.559, 2016.905, 3128.406, NA,…
    ## $ x2015_09_30  <dbl> NA, NA, NA, NA, NA, NA, 2092.795, 2046.119, 3125.705, NA,…
    ## $ x2015_10_31  <dbl> NA, NA, NA, NA, NA, NA, 2093.826, 2052.770, 3126.853, NA,…
    ## $ x2015_11_30  <dbl> NA, NA, NA, NA, NA, NA, 2095.349, 2108.550, 3129.706, NA,…
    ## $ x2015_12_31  <dbl> NA, NA, NA, NA, NA, NA, 2088.164, 2062.484, 3125.624, NA,…
    ## $ x2016_01_31  <dbl> NA, NA, NA, NA, NA, NA, 2089.653, 2068.113, 3115.547, NA,…
    ## $ x2016_02_29  <dbl> NA, NA, NA, NA, NA, NA, 2082.460, 2075.443, 3111.635, NA,…
    ## $ x2016_03_31  <dbl> NA, NA, NA, NA, NA, NA, 2131.828, 2166.531, 3126.976, NA,…
    ## $ x2016_04_30  <dbl> NA, NA, NA, NA, NA, NA, 2151.524, 2198.191, 3134.421, NA,…
    ## $ x2016_05_31  <dbl> NA, 2266.140, NA, NA, 1349.679, NA, 2171.467, 2163.246, 3…
    ## $ x2016_06_30  <dbl> NA, 2292.023, NA, NA, 1327.656, NA, 2195.605, 2134.050, 3…
    ## $ x2016_07_31  <dbl> NA, 2320.788, NA, NA, 1351.738, NA, 2235.378, 2125.281, 3…
    ## $ x2016_08_31  <dbl> NA, 2343.339, NA, NA, 1313.098, NA, 2240.782, 2149.885, 3…
    ## $ x2016_09_30  <dbl> NA, 2337.120, NA, NA, 1331.150, NA, 2202.912, 2132.201, 3…
    ## $ x2016_10_31  <dbl> NA, 2345.339, NA, NA, 1317.193, NA, 2175.157, 2131.459, 3…
    ## $ x2016_11_30  <dbl> NA, 2320.083, NA, NA, 1307.569, NA, 2203.503, 2144.048, 3…
    ## $ x2016_12_31  <dbl> NA, 2326.450, NA, NA, 1294.087, NA, 2220.357, 2150.612, 3…
    ## $ x2017_01_31  <dbl> NA, 2310.855, NA, NA, 1354.713, NA, 2230.477, 2149.877, 3…
    ## $ x2017_02_28  <dbl> NA, 2313.101, NA, NA, 1381.230, NA, 2222.774, 2119.797, 3…
    ## $ x2017_03_31  <dbl> NA, 2316.134, NA, NA, 1443.584, NA, 2227.372, 2114.796, 3…
    ## $ x2017_04_30  <dbl> NA, 2309.757, NA, NA, 1427.754, NA, 2217.893, 2124.847, 3…
    ## $ x2017_05_31  <dbl> NA, 2336.220, NA, NA, NA, NA, 2224.578, 2113.990, 3146.90…
    ## $ x2017_06_30  <dbl> NA, 2327.477, NA, NA, 1419.295, NA, 2246.103, 2110.918, 3…
    ## $ x2017_07_31  <dbl> NA, 2349.503, NA, NA, 1427.326, NA, 2268.897, 2113.950, 3…
    ## $ x2017_08_31  <dbl> NA, 2354.110, NA, NA, 1391.902, NA, 2266.585, 2154.685, 3…
    ## $ x2017_09_30  <dbl> NA, 2393.023, NA, NA, 1388.167, NA, 2253.781, 2190.012, 3…
    ## $ x2017_10_31  <dbl> NA, 2363.952, NA, NA, 1402.915, NA, 2233.249, 2209.270, 3…
    ## $ x2017_11_30  <dbl> NA, 2360.901, NA, NA, 1443.141, NA, 2214.707, 2197.699, 3…
    ## $ x2017_12_31  <dbl> NA, 2336.269, NA, NA, 1448.317, NA, 2203.283, 2195.972, 3…
    ## $ x2018_01_31  <dbl> NA, 2331.220, NA, NA, 1415.071, NA, 2212.000, 2173.922, 3…
    ## $ x2018_02_28  <dbl> NA, 2314.654, NA, NA, 1447.512, NA, 2242.629, 2161.329, 3…
    ## $ x2018_03_31  <dbl> NA, 2317.821, NA, NA, 1475.749, NA, 2265.593, 2164.720, 3…
    ## $ x2018_04_30  <dbl> NA, 2337.118, NA, NA, 1550.592, NA, 2292.588, 2225.315, 3…
    ## $ x2018_05_31  <dbl> NA, 2352.811, NA, NA, 1557.876, NA, 2295.173, 2250.959, 3…
    ## $ x2018_06_30  <dbl> NA, 2362.330, NA, NA, 1554.092, NA, 2304.912, 2259.032, 3…
    ## $ x2018_07_31  <dbl> NA, 2367.660, NA, NA, 1551.874, NA, 2320.557, 2230.589, 3…
    ## $ x2018_08_31  <dbl> NA, 2376.613, NA, NA, 1552.840, NA, 2349.465, 2259.636, 3…
    ## $ x2018_09_30  <dbl> NA, 2380.886, NA, NA, 1580.368, NA, 2369.397, 2260.747, 3…
    ## $ x2018_10_31  <dbl> NA, 2402.277, NA, NA, 1576.065, NA, 2351.768, 2241.267, 3…
    ## $ x2018_11_30  <dbl> NA, 2393.917, NA, NA, 1554.715, NA, 2334.290, 2241.702, 3…
    ## $ x2018_12_31  <dbl> NA, 2397.149, NA, NA, 1593.641, NA, 2306.881, 2241.726, 3…
    ## $ x2019_01_31  <dbl> NA, 2374.795, NA, NA, 1588.411, NA, 2322.166, 2267.492, 3…
    ## $ x2019_02_28  <dbl> NA, 2397.457, NA, NA, 1600.744, NA, 2310.874, 2262.747, 3…
    ## $ x2019_03_31  <dbl> NA, 2381.838, NA, NA, 1578.046, NA, 2337.374, 2300.330, 3…
    ## $ x2019_04_30  <dbl> NA, 2398.852, NA, NA, 1572.738, NA, 2320.309, 2282.050, 3…
    ## $ x2019_05_31  <dbl> NA, 2381.123, NA, NA, 1587.081, NA, 2348.144, 2312.998, 3…
    ## $ x2019_06_30  <dbl> NA, 2440.723, NA, NA, 1568.751, NA, 2347.740, 2308.482, 3…
    ## $ x2019_07_31  <dbl> NA, 2471.034, NA, NA, 1613.196, NA, 2377.157, 2344.878, 3…
    ## $ x2019_08_31  <dbl> NA, 2495.005, NA, NA, 1620.662, NA, 2401.689, 2341.534, 3…
    ## $ x2019_09_30  <dbl> NA, 2476.095, NA, NA, 1685.971, NA, 2419.742, 2348.960, 3…
    ## $ x2019_10_31  <dbl> NA, 2464.924, NA, NA, 1699.779, NA, 2413.602, 2356.870, 3…
    ## $ x2019_11_30  <dbl> NA, 2488.450, NA, NA, 1695.050, NA, 2378.537, 2385.016, 3…
    ## $ x2019_12_31  <dbl> NA, 2498.628, NA, NA, 1669.128, NA, 2348.024, 2409.248, 3…
    ## $ x2020_01_31  <dbl> NA, 2509.859, NA, NA, 1649.561, NA, 2357.056, 2418.346, 3…
    ## $ x2020_02_29  <dbl> NA, 2515.646, NA, NA, 1665.102, NA, 2354.012, 2406.290, 3…
    ## $ x2020_03_31  <dbl> NA, 2501.732, NA, NA, 1668.471, NA, 2390.353, 2384.940, 3…
    ## $ x2020_04_30  <dbl> NA, 2475.083, NA, NA, 1653.317, NA, 2384.131, 2397.553, 3…
    ## $ x2020_05_31  <dbl> NA, 2475.563, NA, NA, 1612.794, NA, 2394.843, 2400.946, 3…
    ## $ x2020_06_30  <dbl> NA, 2469.365, NA, NA, 1598.750, NA, 2372.863, 2390.648, 3…
    ## $ x2020_07_31  <dbl> NA, 2475.826, NA, NA, 1655.226, NA, 2375.547, 2357.104, 3…
    ## $ x2020_08_31  <dbl> NA, 2427.843, NA, NA, 1699.814, NA, 2352.791, 2326.858, 3…
    ## $ x2020_09_30  <dbl> NA, 2401.526, NA, NA, 1745.707, NA, 2321.016, 2270.901, 2…
    ## $ x2020_10_31  <dbl> NA, 2368.533, NA, NA, 1724.810, NA, 2286.740, 2224.135, 2…
    ## $ x2020_11_30  <dbl> NA, 2337.224, NA, NA, 1774.450, NA, 2268.131, 2167.380, 2…
    ## $ x2020_12_31  <dbl> NA, 2305.878, NA, NA, 1725.417, NA, 2223.454, 2164.536, 2…
    ## $ x2021_01_31  <dbl> NA, 2292.884, NA, NA, 1744.514, NA, 2180.768, 2142.852, 2…
    ## $ x2021_02_28  <dbl> NA, 2277.712, NA, NA, 1701.264, NA, 2182.021, 2121.733, 2…
    ## $ x2021_03_31  <dbl> NA, 2282.339, NA, NA, 1737.235, NA, 2209.309, 2102.816, 2…
    ## $ x2021_04_30  <dbl> NA, 2278.929, NA, NA, 1690.341, 1872.391, 2254.320, 2111.…
    ## $ x2021_05_31  <dbl> NA, 2322.021, NA, NA, 1715.512, 1875.980, 2278.554, 2191.…
    ## $ x2021_06_30  <dbl> NA, 2368.377, NA, NA, 1725.934, 1908.656, 2310.224, 2261.…
    ## $ x2021_07_31  <dbl> NA, 2420.586, NA, NA, 1751.695, 1930.109, 2349.893, 2316.…
    ## $ x2021_08_31  <dbl> NA, 2449.848, NA, NA, 1742.938, 1949.615, 2367.497, 2336.…
    ## $ x2021_09_30  <dbl> NA, 2482.230, NA, NA, 1772.303, 1966.494, 2398.880, 2364.…
    ## $ x2021_10_31  <dbl> NA, 2518.714, NA, NA, 1807.374, 1910.506, 2397.910, 2412.…
    ## $ x2021_11_30  <dbl> NA, 2556.784, NA, NA, 1812.226, 1934.053, 2409.960, 2413.…
    ## $ x2021_12_31  <dbl> NA, 2580.724, NA, NA, 1747.475, 1923.586, 2411.932, 2448.…
    ## $ x2022_01_31  <dbl> NA, 2592.727, NA, NA, 1728.976, 1927.948, 2437.651, 2452.…
    ## $ x2022_02_28  <dbl> NA, 2591.473, NA, NA, 1785.026, 1969.994, 2473.804, 2473.…
    ## $ x2022_03_31  <dbl> NA, 2607.010, 2432.634, NA, 1831.988, 2023.199, 2515.255,…
    ## $ x2022_04_30  <dbl> NA, 2657.466, 2468.666, NA, 1886.640, 2100.825, 2547.030,…
    ## $ x2022_05_31  <dbl> NA, 2727.357, 2553.099, 2328.869, 1881.483, 2107.368, 259…
    ## $ x2022_06_30  <dbl> NA, 2830.789, 2571.974, 2376.032, 1904.170, 2138.288, 264…
    ## $ x2022_07_31  <dbl> NA, 2893.427, 2541.777, 2347.321, 1937.096, 2166.511, 267…
    ## $ x2022_08_31  <dbl> NA, 2951.086, 2549.192, 2400.155, 1944.353, 2151.894, 268…
    ## $ x2022_09_30  <dbl> NA, 2957.775, 2533.571, 2397.660, 1931.878, 2144.004, 268…
    ## $ x2022_10_31  <dbl> NA, 2966.494, 2596.307, 2524.344, 1893.956, 2141.909, 269…
    ## $ x2022_11_30  <dbl> NA, 2937.695, 2624.750, 2502.490, 1891.447, 2163.435, 268…
    ## $ x2022_12_31  <dbl> NA, 2898.732, 2660.759, 2582.495, 1899.311, 2181.641, 265…
    ## $ x2023_01_31  <dbl> NA, 2851.205, 2683.873, 2432.282, 1929.648, 2213.842, 265…
    ## $ x2023_02_28  <dbl> NA, 2847.664, 2685.560, 2429.336, 1945.849, 2226.211, 264…
    ## $ x2023_03_31  <dbl> NA, 2865.429, 2657.591, 2391.820, 1958.650, 2214.526, 267…
    ## $ x2023_04_30  <dbl> NA, 2908.589, 2672.800, 2451.315, 1909.791, 2217.911, 268…
    ## $ x2023_05_31  <dbl> NA, 2950.697, 2699.051, 2501.957, 1963.970, 2218.745, 270…
    ## $ x2023_06_30  <dbl> NA, 2986.174, 2825.592, 2598.722, 2049.137, 2253.525, 272…
    ## $ x2023_07_31  <dbl> NA, 3004.259, 2817.253, 2642.102, 2084.984, 2261.120, 274…
    ## $ x2023_08_31  <dbl> NA, 3021.107, 2797.145, 2672.396, 2100.269, 2295.725, 275…
    ## $ x2023_09_30  <dbl> NA, 3039.225, 2773.578, 2715.256, 2182.744, 2275.544, 274…
    ## $ x2023_10_31  <dbl> NA, 3042.726, 2815.385, 2700.885, 2238.053, 2302.135, 272…
    ## $ x2023_11_30  <dbl> NA, 3022.294, 2934.593, 2743.458, 2317.342, 2293.275, 271…
    ## $ x2023_12_31  <dbl> NA, 2985.509, 2977.254, 2753.950, 2243.914, 2290.069, 271…
    ## $ x2024_01_31  <dbl> NA, 2976.598, 3015.684, 2848.811, 2269.451, 2283.986, 274…
    ## $ x2024_02_29  <dbl> NA, 2971.280, 2987.130, 2899.215, 2233.032, 2273.511, 274…
    ## $ x2024_03_31  <dbl> NA, 3022.816, 2963.105, 2977.176, 2244.841, 2281.456, 273…
    ## $ x2024_04_30  <dbl> NA, 3032.851, 2895.445, 2935.365, 2303.026, 2302.458, 272…
    ## $ x2024_05_31  <dbl> NA, 3102.032, 2817.406, 2959.498, 2282.180, 2377.143, 275…
    ## $ x2024_06_30  <dbl> NA, 3132.088, 2858.719, 2847.246, 2309.057, 2439.551, 276…
    ## $ x2024_07_31  <dbl> 2322.418, 3203.117, 2816.037, 2862.954, 2294.031, 2491.62…
    ## $ x2024_08_31  <dbl> 2282.500, 3199.751, 2895.667, 2976.389, 2271.611, 2476.33…
    ## $ state_fips   <dbl> 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 3…
    ## $ county_code  <chr> "081", "081", "047", "047", "005", "081", "047", "047", "…
    ## $ county_fips  <dbl> 36081, 36081, 36047, 36047, 36005, 36081, 36047, 36047, 3…
    ## $ file_date    <chr> "7/25/07", "7/25/07", "7/25/07", "7/25/07", "7/25/07", "7…
    ## $ neighborhood <chr> "West Queens", "West Central Queens", "East New York and …

``` r
summary(tidy_df)
```

    ##    zip_code             city              county             state          
    ##  Length:151         Length:151         Length:151         Length:151        
    ##  Class :character   Class :character   Class :character   Class :character  
    ##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
    ##                                                                             
    ##                                                                             
    ##                                                                             
    ##                                                                             
    ##    region_id        size_rank       region_type         state_name       
    ##  Min.   : 61615   Min.   :    4.0   Length:151         Length:151        
    ##  1st Qu.: 61660   1st Qu.:  142.5   Class :character   Class :character  
    ##  Median : 62005   Median :  947.0   Mode  :character   Mode  :character  
    ##  Mean   : 66356   Mean   : 2502.4                                        
    ##  3rd Qu.: 62044   3rd Qu.: 3392.0                                        
    ##  Max.   :399546   Max.   :30490.0                                        
    ##                                                                          
    ##     metro           county_name         x2015_01_31    x2015_02_28  
    ##  Length:151         Length:151         Min.   :1621   Min.   :1668  
    ##  Class :character   Class :character   1st Qu.:2207   1st Qu.:2141  
    ##  Mode  :character   Mode  :character   Median :2739   Median :2746  
    ##                                        Mean   :2745   Mean   :2745  
    ##                                        3rd Qu.:3233   3rd Qu.:3238  
    ##                                        Max.   :4024   Max.   :4022  
    ##                                        NA's   :96     NA's   :95    
    ##   x2015_03_31    x2015_04_30    x2015_05_31    x2015_06_30    x2015_07_31  
    ##  Min.   :1682   Min.   :1702   Min.   :1709   Min.   :1722   Min.   :1723  
    ##  1st Qu.:2185   1st Qu.:2194   1st Qu.:2163   1st Qu.:2150   1st Qu.:2193  
    ##  Median :2724   Median :2687   Median :2706   Median :2742   Median :2753  
    ##  Mean   :2742   Mean   :2743   Mean   :2737   Mean   :2744   Mean   :2761  
    ##  3rd Qu.:3249   3rd Qu.:3293   3rd Qu.:3307   3rd Qu.:3287   3rd Qu.:3276  
    ##  Max.   :4040   Max.   :4118   Max.   :4172   Max.   :4236   Max.   :4220  
    ##  NA's   :93     NA's   :91     NA's   :89     NA's   :88     NA's   :88    
    ##   x2015_08_31    x2015_09_30    x2015_10_31    x2015_11_30    x2015_12_31  
    ##  Min.   :1700   Min.   :1707   Min.   :1740   Min.   :1766   Min.   :1102  
    ##  1st Qu.:2207   1st Qu.:2201   1st Qu.:2211   1st Qu.:2244   1st Qu.:2164  
    ##  Median :2779   Median :2786   Median :2763   Median :2771   Median :2687  
    ##  Mean   :2774   Mean   :2781   Mean   :2777   Mean   :2794   Mean   :2716  
    ##  3rd Qu.:3291   3rd Qu.:3306   3rd Qu.:3290   3rd Qu.:3313   3rd Qu.:3220  
    ##  Max.   :4186   Max.   :4170   Max.   :4094   Max.   :4108   Max.   :4073  
    ##  NA's   :88     NA's   :88     NA's   :88     NA's   :90     NA's   :87    
    ##   x2016_01_31    x2016_02_29    x2016_03_31    x2016_04_30    x2016_05_31  
    ##  Min.   :1726   Min.   :1142   Min.   :1122   Min.   :1732   Min.   :1116  
    ##  1st Qu.:2206   1st Qu.:2127   1st Qu.:2175   1st Qu.:2244   1st Qu.:2113  
    ##  Median :2741   Median :2687   Median :2685   Median :2701   Median :2677  
    ##  Mean   :2743   Mean   :2709   Mean   :2723   Mean   :2761   Mean   :2687  
    ##  3rd Qu.:3306   3rd Qu.:3284   3rd Qu.:3300   3rd Qu.:3318   3rd Qu.:3232  
    ##  Max.   :4113   Max.   :4033   Max.   :4038   Max.   :4081   Max.   :4184  
    ##  NA's   :87     NA's   :85     NA's   :85     NA's   :86     NA's   :78    
    ##   x2016_06_30    x2016_07_31    x2016_08_31    x2016_09_30    x2016_10_31  
    ##  Min.   :1132   Min.   :1135   Min.   :1139   Min.   :1164   Min.   :1166  
    ##  1st Qu.:2134   1st Qu.:2125   1st Qu.:2150   1st Qu.:2132   1st Qu.:2147  
    ##  Median :2694   Median :2717   Median :2718   Median :2724   Median :2702  
    ##  Mean   :2705   Mean   :2722   Mean   :2730   Mean   :2731   Mean   :2723  
    ##  3rd Qu.:3267   3rd Qu.:3271   3rd Qu.:3283   3rd Qu.:3267   3rd Qu.:3233  
    ##  Max.   :4240   Max.   :4272   Max.   :4286   Max.   :4268   Max.   :4224  
    ##  NA's   :78     NA's   :78     NA's   :78     NA's   :78     NA's   :78    
    ##   x2016_11_30    x2016_12_31    x2017_01_31    x2017_02_28    x2017_03_31  
    ##  Min.   :1182   Min.   :1201   Min.   :1218   Min.   :1238   Min.   :1230  
    ##  1st Qu.:2144   1st Qu.:2128   1st Qu.:2135   1st Qu.:2127   1st Qu.:2129  
    ##  Median :2678   Median :2657   Median :2652   Median :2670   Median :2688  
    ##  Mean   :2708   Mean   :2673   Mean   :2697   Mean   :2700   Mean   :2712  
    ##  3rd Qu.:3225   3rd Qu.:3189   3rd Qu.:3187   3rd Qu.:3192   3rd Qu.:3221  
    ##  Max.   :4148   Max.   :4065   Max.   :6041   Max.   :6088   Max.   :6005  
    ##  NA's   :78     NA's   :77     NA's   :74     NA's   :74     NA's   :74    
    ##   x2017_04_30    x2017_05_31    x2017_06_30    x2017_07_31    x2017_08_31  
    ##  Min.   :1252   Min.   :1264   Min.   :1246   Min.   :1249   Min.   :1231  
    ##  1st Qu.:2155   1st Qu.:2195   1st Qu.:2177   1st Qu.:2201   1st Qu.:2197  
    ##  Median :2720   Median :2739   Median :2736   Median :2744   Median :2773  
    ##  Mean   :2730   Mean   :2769   Mean   :2773   Mean   :2786   Mean   :2790  
    ##  3rd Qu.:3257   3rd Qu.:3298   3rd Qu.:3323   3rd Qu.:3320   3rd Qu.:3323  
    ##  Max.   :6095   Max.   :6170   Max.   :6234   Max.   :6175   Max.   :6165  
    ##  NA's   :74     NA's   :75     NA's   :74     NA's   :74     NA's   :74    
    ##   x2017_09_30    x2017_10_31    x2017_11_30    x2017_12_31    x2018_01_31  
    ##  Min.   :1237   Min.   :1219   Min.   :1225   Min.   :1228   Min.   :1241  
    ##  1st Qu.:2190   1st Qu.:2199   1st Qu.:2185   1st Qu.:2196   1st Qu.:2165  
    ##  Median :2758   Median :2731   Median :2700   Median :2705   Median :2709  
    ##  Mean   :2785   Mean   :2766   Mean   :2742   Mean   :2733   Mean   :2699  
    ##  3rd Qu.:3297   3rd Qu.:3264   3rd Qu.:3212   3rd Qu.:3178   3rd Qu.:3157  
    ##  Max.   :6245   Max.   :6229   Max.   :6175   Max.   :6047   Max.   :6013  
    ##  NA's   :74     NA's   :74     NA's   :74     NA's   :74     NA's   :72    
    ##   x2018_02_28    x2018_03_31    x2018_04_30    x2018_05_31    x2018_06_30  
    ##  Min.   :1257   Min.   :1292   Min.   :1283   Min.   :1317   Min.   :1310  
    ##  1st Qu.:2161   1st Qu.:2174   1st Qu.:2195   1st Qu.:2200   1st Qu.:2216  
    ##  Median :2700   Median :2730   Median :2715   Median :2728   Median :2754  
    ##  Mean   :2692   Mean   :2709   Mean   :2736   Mean   :2761   Mean   :2784  
    ##  3rd Qu.:3168   3rd Qu.:3214   3rd Qu.:3248   3rd Qu.:3275   3rd Qu.:3313  
    ##  Max.   :5954   Max.   :5947   Max.   :6071   Max.   :6205   Max.   :6333  
    ##  NA's   :71     NA's   :71     NA's   :71     NA's   :71     NA's   :71    
    ##   x2018_07_31    x2018_08_31    x2018_09_30    x2018_10_31    x2018_11_30  
    ##  Min.   :1333   Min.   :1293   Min.   :1318   Min.   :1349   Min.   :1384  
    ##  1st Qu.:2232   1st Qu.:2235   1st Qu.:2222   1st Qu.:2226   1st Qu.:2214  
    ##  Median :2781   Median :2809   Median :2808   Median :2781   Median :2753  
    ##  Mean   :2800   Mean   :2812   Mean   :2814   Mean   :2802   Mean   :2782  
    ##  3rd Qu.:3338   3rd Qu.:3361   3rd Qu.:3353   3rd Qu.:3349   3rd Qu.:3335  
    ##  Max.   :6347   Max.   :6356   Max.   :6454   Max.   :6431   Max.   :6383  
    ##  NA's   :71     NA's   :71     NA's   :71     NA's   :71     NA's   :71    
    ##   x2018_12_31    x2019_01_31    x2019_02_28    x2019_03_31    x2019_04_30  
    ##  Min.   :1372   Min.   :1320   Min.   :1309   Min.   :1312   Min.   :1347  
    ##  1st Qu.:2203   1st Qu.:2219   1st Qu.:2234   1st Qu.:2259   1st Qu.:2273  
    ##  Median :2737   Median :2759   Median :2776   Median :2777   Median :2808  
    ##  Mean   :2762   Mean   :2782   Mean   :2796   Mean   :2810   Mean   :2846  
    ##  3rd Qu.:3326   3rd Qu.:3321   3rd Qu.:3342   3rd Qu.:3353   3rd Qu.:3381  
    ##  Max.   :6113   Max.   :6143   Max.   :6299   Max.   :6442   Max.   :6507  
    ##  NA's   :71     NA's   :70     NA's   :70     NA's   :69     NA's   :70    
    ##   x2019_05_31    x2019_06_30    x2019_07_31    x2019_08_31    x2019_09_30  
    ##  Min.   :1355   Min.   :1373   Min.   :1367   Min.   :1376   Min.   :1368  
    ##  1st Qu.:2278   1st Qu.:2291   1st Qu.:2291   1st Qu.:2296   1st Qu.:2291  
    ##  Median :2823   Median :2852   Median :2875   Median :2893   Median :2898  
    ##  Mean   :2859   Mean   :2885   Mean   :2908   Mean   :2921   Mean   :2925  
    ##  3rd Qu.:3402   3rd Qu.:3427   3rd Qu.:3473   3rd Qu.:3487   3rd Qu.:3484  
    ##  Max.   :6504   Max.   :6616   Max.   :6661   Max.   :6643   Max.   :6668  
    ##  NA's   :69     NA's   :69     NA's   :69     NA's   :69     NA's   :69    
    ##   x2019_10_31    x2019_11_30    x2019_12_31    x2020_01_31    x2020_02_29  
    ##  Min.   :1374   Min.   :1379   Min.   :1380   Min.   :1376   Min.   :1377  
    ##  1st Qu.:2280   1st Qu.:2269   1st Qu.:2266   1st Qu.:2234   1st Qu.:2249  
    ##  Median :2894   Median :2863   Median :2837   Median :2755   Median :2774  
    ##  Mean   :2922   Mean   :2905   Mean   :2889   Mean   :2862   Mean   :2880  
    ##  3rd Qu.:3468   3rd Qu.:3450   3rd Qu.:3433   3rd Qu.:3429   3rd Qu.:3444  
    ##  Max.   :6633   Max.   :6492   Max.   :6373   Max.   :6334   Max.   :6446  
    ##  NA's   :69     NA's   :69     NA's   :69     NA's   :67     NA's   :67    
    ##   x2020_03_31    x2020_04_30    x2020_05_31    x2020_06_30    x2020_07_31  
    ##  Min.   :1653   Min.   :1418   Min.   :1439   Min.   :1436   Min.   :1433  
    ##  1st Qu.:2276   1st Qu.:2284   1st Qu.:2250   1st Qu.:2232   1st Qu.:2228  
    ##  Median :2795   Median :2726   Median :2619   Median :2576   Median :2546  
    ##  Mean   :2902   Mean   :2872   Mean   :2826   Mean   :2781   Mean   :2748  
    ##  3rd Qu.:3459   3rd Qu.:3443   3rd Qu.:3400   3rd Qu.:3346   3rd Qu.:3278  
    ##  Max.   :6526   Max.   :6554   Max.   :6552   Max.   :6509   Max.   :6357  
    ##  NA's   :67     NA's   :65     NA's   :60     NA's   :59     NA's   :59    
    ##   x2020_08_31    x2020_09_30    x2020_10_31    x2020_11_30    x2020_12_31  
    ##  Min.   :1426   Min.   :1425   Min.   :1418   Min.   :1417   Min.   :1422  
    ##  1st Qu.:2194   1st Qu.:2173   1st Qu.:2135   1st Qu.:2111   1st Qu.:2076  
    ##  Median :2482   Median :2422   Median :2393   Median :2351   Median :2311  
    ##  Mean   :2666   Mean   :2605   Mean   :2568   Mean   :2533   Mean   :2498  
    ##  3rd Qu.:3178   3rd Qu.:3089   3rd Qu.:3029   3rd Qu.:2946   3rd Qu.:2892  
    ##  Max.   :6098   Max.   :5936   Max.   :5923   Max.   :5773   Max.   :5616  
    ##  NA's   :61     NA's   :60     NA's   :58     NA's   :57     NA's   :55    
    ##   x2021_01_31    x2021_02_28    x2021_03_31    x2021_04_30    x2021_05_31  
    ##  Min.   :1420   Min.   :1451   Min.   :1455   Min.   :1477   Min.   :1467  
    ##  1st Qu.:2060   1st Qu.:2046   1st Qu.:2052   1st Qu.:2063   1st Qu.:2063  
    ##  Median :2294   Median :2303   Median :2328   Median :2310   Median :2331  
    ##  Mean   :2484   Mean   :2483   Mean   :2504   Mean   :2533   Mean   :2579  
    ##  3rd Qu.:2881   3rd Qu.:2913   3rd Qu.:2959   3rd Qu.:3006   3rd Qu.:3097  
    ##  Max.   :5422   Max.   :5538   Max.   :5753   Max.   :5966   Max.   :6235  
    ##  NA's   :54     NA's   :52     NA's   :51     NA's   :50     NA's   :50    
    ##   x2021_06_30    x2021_07_31    x2021_08_31    x2021_09_30    x2021_10_31  
    ##  Min.   :1471   Min.   :1470   Min.   :1444   Min.   :1441   Min.   :1453  
    ##  1st Qu.:2093   1st Qu.:2110   1st Qu.:2148   1st Qu.:2174   1st Qu.:2139  
    ##  Median :2369   Median :2401   Median :2441   Median :2481   Median :2444  
    ##  Mean   :2633   Mean   :2703   Mean   :2765   Mean   :2824   Mean   :2854  
    ##  3rd Qu.:3195   3rd Qu.:3285   3rd Qu.:3401   3rd Qu.:3483   3rd Qu.:3562  
    ##  Max.   :6440   Max.   :6740   Max.   :6936   Max.   :7074   Max.   :7147  
    ##  NA's   :49     NA's   :49     NA's   :49     NA's   :50     NA's   :46    
    ##   x2021_11_30    x2021_12_31    x2022_01_31    x2022_02_28    x2022_03_31  
    ##  Min.   :1445   Min.   :1431   Min.   :1439   Min.   :1458   Min.   :1501  
    ##  1st Qu.:2139   1st Qu.:2096   1st Qu.:2126   1st Qu.:2157   1st Qu.:2186  
    ##  Median :2468   Median :2461   Median :2481   Median :2519   Median :2553  
    ##  Mean   :2876   Mean   :2854   Mean   :2878   Mean   :2907   Mean   :2928  
    ##  3rd Qu.:3612   3rd Qu.:3609   3rd Qu.:3643   3rd Qu.:3685   3rd Qu.:3708  
    ##  Max.   :7151   Max.   :7168   Max.   :7120   Max.   :7231   Max.   :7272  
    ##  NA's   :46     NA's   :42     NA's   :42     NA's   :42     NA's   :38    
    ##   x2022_04_30    x2022_05_31    x2022_06_30    x2022_07_31    x2022_08_31  
    ##  Min.   :1533   Min.   :1568   Min.   :1568   Min.   :1549   Min.   :1522  
    ##  1st Qu.:2180   1st Qu.:2191   1st Qu.:2206   1st Qu.:2218   1st Qu.:2233  
    ##  Median :2562   Median :2591   Median :2672   Median :2729   Median :2739  
    ##  Mean   :2961   Mean   :2987   Mean   :3037   Mean   :3085   Mean   :3112  
    ##  3rd Qu.:3720   3rd Qu.:3806   3rd Qu.:3856   3rd Qu.:3920   3rd Qu.:3944  
    ##  Max.   :7382   Max.   :7385   Max.   :7517   Max.   :7565   Max.   :7631  
    ##  NA's   :37     NA's   :34     NA's   :34     NA's   :34     NA's   :34    
    ##   x2022_09_30    x2022_10_31    x2022_11_30    x2022_12_31    x2023_01_31  
    ##  Min.   :1552   Min.   :1568   Min.   :1603   Min.   :1585   Min.   :1585  
    ##  1st Qu.:2268   1st Qu.:2326   1st Qu.:2334   1st Qu.:2321   1st Qu.:2383  
    ##  Median :2773   Median :2794   Median :2738   Median :2725   Median :2720  
    ##  Mean   :3124   Mean   :3116   Mean   :3091   Mean   :3079   Mean   :3079  
    ##  3rd Qu.:3928   3rd Qu.:3945   3rd Qu.:3886   3rd Qu.:3850   3rd Qu.:3856  
    ##  Max.   :7646   Max.   :7664   Max.   :7605   Max.   :7478   Max.   :7481  
    ##  NA's   :34     NA's   :34     NA's   :33     NA's   :34     NA's   :34    
    ##   x2023_02_28    x2023_03_31    x2023_04_30    x2023_05_31    x2023_06_30  
    ##  Min.   :1605   Min.   :1632   Min.   :1645   Min.   :1632   Min.   :1638  
    ##  1st Qu.:2371   1st Qu.:2370   1st Qu.:2361   1st Qu.:2356   1st Qu.:2389  
    ##  Median :2709   Median :2723   Median :2728   Median :2752   Median :2791  
    ##  Mean   :3058   Mean   :3088   Mean   :3108   Mean   :3128   Mean   :3163  
    ##  3rd Qu.:3828   3rd Qu.:3880   3rd Qu.:3887   3rd Qu.:3923   3rd Qu.:3951  
    ##  Max.   :7483   Max.   :7720   Max.   :7834   Max.   :8022   Max.   :7996  
    ##  NA's   :29     NA's   :30     NA's   :29     NA's   :28     NA's   :28    
    ##   x2023_07_31    x2023_08_31    x2023_09_30    x2023_10_31    x2023_11_30  
    ##  Min.   :1654   Min.   :1694   Min.   :1663   Min.   :1729   Min.   :1715  
    ##  1st Qu.:2394   1st Qu.:2409   1st Qu.:2434   1st Qu.:2403   1st Qu.:2456  
    ##  Median :2817   Median :2809   Median :2795   Median :2810   Median :2771  
    ##  Mean   :3177   Mean   :3195   Mean   :3206   Mean   :3196   Mean   :3171  
    ##  3rd Qu.:3961   3rd Qu.:3981   3rd Qu.:3978   3rd Qu.:4027   3rd Qu.:3931  
    ##  Max.   :7956   Max.   :7936   Max.   :7906   Max.   :7905   Max.   :7863  
    ##  NA's   :26     NA's   :26     NA's   :26     NA's   :27     NA's   :26    
    ##   x2023_12_31    x2024_01_31    x2024_02_29    x2024_03_31    x2024_04_30  
    ##  Min.   :1778   Min.   :1755   Min.   :1813   Min.   :1955   Min.   :1935  
    ##  1st Qu.:2461   1st Qu.:2498   1st Qu.:2506   1st Qu.:2528   1st Qu.:2529  
    ##  Median :2757   Median :2774   Median :2782   Median :2816   Median :2824  
    ##  Mean   :3153   Mean   :3157   Mean   :3187   Mean   :3223   Mean   :3253  
    ##  3rd Qu.:3906   3rd Qu.:3930   3rd Qu.:3998   3rd Qu.:4025   3rd Qu.:4045  
    ##  Max.   :7749   Max.   :7682   Max.   :7714   Max.   :7991   Max.   :8103  
    ##  NA's   :24     NA's   :23     NA's   :24     NA's   :23     NA's   :22    
    ##   x2024_05_31    x2024_06_30    x2024_07_31    x2024_08_31     state_fips
    ##  Min.   :1916   Min.   :1963   Min.   :1995   Min.   :2017   Min.   :36  
    ##  1st Qu.:2565   1st Qu.:2551   1st Qu.:2540   1st Qu.:2567   1st Qu.:36  
    ##  Median :2817   Median :2827   Median :2842   Median :2869   Median :36  
    ##  Mean   :3272   Mean   :3277   Mean   :3294   Mean   :3282   Mean   :36  
    ##  3rd Qu.:4049   3rd Qu.:4060   3rd Qu.:4070   3rd Qu.:3998   3rd Qu.:36  
    ##  Max.   :8183   Max.   :8195   Max.   :8214   Max.   :8423   Max.   :36  
    ##  NA's   :19     NA's   :16     NA's   :6                                 
    ##  county_code         county_fips     file_date         neighborhood      
    ##  Length:151         Min.   :36005   Length:151         Length:151        
    ##  Class :character   1st Qu.:36047   Class :character   Class :character  
    ##  Mode  :character   Median :36061   Mode  :character   Mode  :character  
    ##                     Mean   :36056                                        
    ##                     3rd Qu.:36081                                        
    ##                     Max.   :36085                                        
    ## 

## 3.2

### Briefly describe the resulting tidy dataset. How many total observations exist? How many unique ZIP codes are included, and how many unique neighborhoods?

The resulting tidy dataset has 151 total observations. It includes 149
unique ZIP codes and 43 unique neighborhoods.

## 3.3

### Which ZIP codes appear in the ZIP code dataset but not in the Zillow Rental Price dataset? Using a few illustrative examples discuss why these ZIP codes might be excluded from the Zillow dataset.

``` r
zips_only_in_ref <- setdiff(zc_df$zip_code, nyc_df$zip_code)

head(zips_only_in_ref, 10)
```

    ##  [1] "10464" "10474" "10475" "10499" "10550" "10704" "10705" "10803" "11202"
    ## [10] "11224"

Some ZIP codes appear in the reference file but not in Zillow’s rental
dataset because they do not represent active residential markets. In
many cases these areas are primarily commercial or industrial, or they
contain very few rental properties, making it difficult for Zillow to
calculate a reliable rent index. In other instances, the ZIP codes may
be newly created or used mainly for postal delivery rather than for
households. Finally, the scope of the Zillow dataset is limited to
neighborhoods where sufficient rental activity is observed, so ZIP codes
outside the core residential areas of New York City are naturally
excluded.

## 3.4

### Rental prices fluctuated dramatically during the COVID-19 pandemic. For all available ZIP codes, compare rental prices in January 2021 to prices in January 2020. Make a table that shows the 10 ZIP codes (along with the borough and neighborhood) with largest drop in price from January 2020 to 2021. Comment.

``` r
result <- tidy_df %>%
  mutate(diff = `x2021_01_31` - `x2020_01_31`) %>%
  arrange(diff) %>%
  slice_head(n = 10) %>%
  select(zip_code, county, neighborhood, diff)
```

The values range from about -912.6 to -684.9, and Lower Manhattan
appears most often with the lowest values.
